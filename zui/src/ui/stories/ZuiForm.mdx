# ZUI Example Usage

To define your own custom components for zui, first start with defining the different way each datatype can be displayed:

```typescript
import { type UIComponentDefinitions } from 'zui'

const exampleComponentDefinitions = {
  string: {
    SuperInput: { id: 'SuperInput', schema: z.object({ allowVariables: z.boolean().optional() }) },
    SuperPasswordInput: {
      id: 'SuperPasswordInput',
      schema: z.object({
        requireSpecialCharacters: z.boolean().default(false).optional(),
        requireNumbers: z.boolean().default(false).optional(),
        requireLowercase: z.boolean().default(false).optional(),
        requireUppercase: z.boolean().default(false).optional(),
        minLength: z.number().default(8).optional(),
        maxLength: z.number().optional(),
      }),
    },
  },
  number: {
    SuperNumber: { id: 'SuperNumber', schema: z.object({ min: z.number().optional(), max: z.number().optional() }) },
  },
  boolean: {
    SuperCheckbox: { id: 'SuperCheckbox', schema: z.object({ label: z.string().optional() }) },
  },
  array: {
    SuperArray: {
      id: 'SuperArray',
      schema: z.object({ minItems: z.number().optional(), maxItems: z.number().optional() }),
    },
  },
  object: {
    SuperObject: { id: 'SuperObject', schema: z.object({ label: z.string().optional() }) },
  },
} satisfies UIComponentDefinitions
```

Override the `ComponentDefinitions` interface definition to have zui typecheck your extensions:

```typescript
declare module '@bpinternal/zui' {
  interface ComponentDefinitions {
    components: typeof exampleComponentDefinitions
  }
}
```

Then, implement the translation functions for each component's JSON Forms UI Schema:

```typescript
import type { ComponentImplementationMap } from 'zui'

const myComponentLibrary: ComponentImplementationMap = {
  string: {
    SuperInput: (type, id, params, { scope, schema }) => {
      type: 'Control',
      scope,
      options: {
        showVariables: params.allowVariables,
      }
    },
    SuperPasswordInput: (type, id, params, { scope, schema }) => {
      type: 'Control',
      scope,
      options: {
        showSpecialCharacters: params.requireSpecialCharacters,
        showNumbers: params.requireNumbers,
        // ... and so on
      }
    },
    default: (type, id, params // will always be {}, { scope, schema }) => {
      type: 'Control',
      scope,
    },
  },
  number: {
    SuperNumber: (type, id, params, { scope, schema }) => {
      type: 'Control',
      scope,
      options: {
        min: params.min,
        max: params.max,
      }
    },
    default: (type, id, params // will always be {}, { scope, schema }) => {
      type: 'Control',
      scope,
    },
  },
  // ... and so on
}
```

You can now display a form using your custom components:

```typescript
import { zui } from 'zui'
import { ZuiForm } from 'zui/react'
import { myJSONFormRenderers, myJSONFormCells } from './myJSONForms'

const mySchema = zui.object({
  myString: zui.string().displayAs('SuperInput', {
    allowVariables: true,
  }),
  myNumber: zui.number().displayAs('SuperNumber', {
    max: 100,
  }),
  myBoolean: zui.boolean().displayAs('SuperCheckbox', {
    label: 'This is a checkbox',
  }),
})

// ZuiForm is an extension of the JSONForms Component
const MyForm = () => {
  return (
    <ZuiForm
      schema={mySchema}
      components={myComponentLibrary}
      renderers={myJSONFormRenderers}
      cells={myJSONFormCells} /> // this is an extension of the JSONForms Component
      onChange={onChange={({ errors, data }) => console.log({ errors, data })} />
  )
}
```
